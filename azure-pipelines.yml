# Android
# Build your Android project with Gradle.
# Add steps that test, sign, and distribute the APK, save build artifacts, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/android

trigger:
- master

pool: Default
  #vmImage: 'macos-latest'

steps:
- task: Gradle@2
  inputs:
    workingDirectory: 'C:\Projects\CITest\android'
    gradleWrapperFile: 'C:\Projects\CITest\android\gradlew'
    gradleOptions: '-Xmx3072m'
    publishJUnitResults: false
    testResultsFiles: '**/TEST-*.xml'
    tasks: 'assembleDebug'

  # Bash
  # Run a Bash script on macOS, Linux, or Windows
- task: Bash@3
  inputs:
    targetType: 'filePath' # Optional. Options: filePath, inline
    filePath: 'emulator-android.sh'
    #arguments: # Optional
    #script: '# echo Hello world' # Required when targetType == inline
    workingDirectory: 'C:\Projects\CITest' # Optional
    #failOnStderr: false # Optional
    #bashEnvValue: # Optional
